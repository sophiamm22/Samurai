@{
  bool? modelValue = ViewData.Model != null ?
  Convert.ToBoolean(ViewData.Model, System.Globalization.CultureInfo.InvariantCulture) :
  null;
  var triStateValues = new List<SelectListItem>
 { 
   new SelectListItem { Text = "Not Set", Value = string.Empty, Selected = !modelValue.HasValue },
   new SelectListItem { Text = "True", Value = "true", Selected = modelValue.HasValue && modelValue.Value},
   new SelectListItem { Text = "False", Value = "false", Selected = modelValue.HasValue && !modelValue.Value}
 };
}
@if (ViewData.ModelMetadata.IsNullableValueType) {
  @Html.DropDownList("", triStateValues, new { @class = "list-box tri-state" })
} else { 
  @Html.CheckBox("", modelValue ?? false, new { @class = "check-box"})
}